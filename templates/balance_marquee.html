<script>
// ‡∏î‡∏∂‡∏á‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å DOM (id ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô)
function getAmountById(id) {
  const el = document.getElementById(id);
  if (!el) return 0;
  const txt = el.innerText.replace(/[^0-9.,]/g, '').replace(/,/g, '');
  const num = parseFloat(txt);
  return isNaN(num) ? 0 : num;
}

// ‡πÉ‡∏ä‡πâ emoji/‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÅ‡∏ó‡∏ô‡∏™‡∏µ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ title ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏™‡∏µ)
const balanceInfos = [
  { name: "Truewallet TK", id: "tw-balance", icon: "üü¢" },
  { name: "SCB ‡∏™‡∏∏‡∏°‡∏±‡∏à‡∏¥‡∏£‡∏µ ‡∏Ñ‡∏¥‡∏°‡∏†‡∏¥‡∏£‡∏≤‡∏ô‡∏ô‡∏ó‡πå", id: "account-balance-info", icon: "üü£" },
  { name: "SCB ‡∏û‡∏•‡∏≠‡∏¢‡πÑ‡∏û‡∏£‡∏¥‡∏ô ‡∏ô‡∏≤‡∏°‡πÇ‡∏Ñ‡∏ï‡∏£", id: "account-balance-info2", icon: "üü†" },
  { name: "Truewallet BB ENJ", id: "tw-bb-balance", icon: "üîµ" },
  { name: "Truewallet BP", id: "tw-bp-balance", icon: "üî¥" }
];

function getMarqueeTitle() {
  return balanceInfos.map(b => `${b.icon} ${b.name}: ${getAmountById(b.id).toLocaleString()} ‡∏ö‡∏≤‡∏ó`).join(' | ');
}

let marqueeTitle = getMarqueeTitle() + '   ';
let marqueePos = 0;

function marqueeTitleTick() {
  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å 10 ‡∏£‡∏≠‡∏ö (‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å)
  if (marqueePos % 10 === 0) {
    marqueeTitle = getMarqueeTitle() + '   ';
  }
  // ‡πÉ‡∏ä‡πâ slice ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ smooth
  let t = marqueeTitle + marqueeTitle;
  let len = marqueeTitle.length;
  document.title = t.slice(marqueePos, marqueePos + len);
  marqueePos = (marqueePos + 1) % len;
  setTimeout(marqueeTitleTick, 80); // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÑ‡∏î‡πâ (80ms = smooth)
}
marqueeTitleTick();
</script>

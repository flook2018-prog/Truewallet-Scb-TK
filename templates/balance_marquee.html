<script>
// ดึงยอดเงินจริงจาก DOM (id ของแต่ละยอดเงิน)
function getAmountById(id) {
  const el = document.getElementById(id);
  if (!el) return 0;
  const txt = el.innerText.replace(/[^0-9.,]/g, '').replace(/,/g, '');
  const num = parseFloat(txt);
  return isNaN(num) ? 0 : num;
}

function getMarqueeTitle() {
  const balances = [
    { name: "Truewallet TK", id: "tw-balance" },
    { name: "SCB สุมัจิรี คิมภิรานนท์", id: "account-balance-info" },
    { name: "SCB พลอยไพริน นามโคตร", id: "account-balance-info2" },
    { name: "Truewallet BB ENJ", id: "tw-bb-balance" },
    { name: "Truewallet BP", id: "tw-bp-balance" }
  ];
  return balances.map(b => `${b.name}: ${getAmountById(b.id).toLocaleString()} บาท`).join(' | ');
}

let marqueeTitle = getMarqueeTitle() + ' ';
let marqueePos = 0;

function marqueeTitleTick() {
  // อัปเดตยอดเงินใหม่ทุกครั้ง
  marqueeTitle = getMarqueeTitle() + ' ';
  document.title = marqueeTitle.substring(marqueePos) + " " + marqueeTitle.substring(0, marqueePos);
  marqueePos = (marqueePos + 1) % marqueeTitle.length;
  setTimeout(marqueeTitleTick, 200); // ปรับความเร็วได้
}
marqueeTitleTick();
</script>

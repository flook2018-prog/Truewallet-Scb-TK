<style>
#balance-marquee {
  background: #fffbe7;
  color: #333;
  font-weight: bold;
  font-size: 1.1rem;
  padding: 8px 0;
  border-bottom: 1px solid #ffe082;
  overflow: hidden;
  width: 100%;
  position: relative;
  z-index: 100;
}
#marquee-text {
  white-space: nowrap;
  display: inline-block;
  position: relative;
}
</style>
<div id="balance-marquee">
  <span id="marquee-text"></span>
</div>
<script>
const balanceColors = [
  "#27ae60", // Truewallet TK - เขียว
  "#8e44ad", // SCB สุมิธร์ - ม่วง
  "#e67e22", // SCB พลอยไพริน - ส้ม
  "#2980b9", // Truewallet BB ENJ - น้ำเงิน
  "#c0392b"  // Truewallet BP - แดง
];
function getBalances() {
  function getAmount(id) {
    let el = parent.document.getElementById(id);
    if (!el) return 0;
    let txt = el.innerText.replace(/[^0-9.,]/g, '').replace(/,/g, '');
    let num = parseFloat(txt);
    return isNaN(num) ? 0 : num;
  }
  return [
    { name: "Truewallet TK", amount: getAmount('tw-balance') },
    { name: "SCB สุมิธร์ คิมภิรานนท์", amount: getAmount('account-balance-info') },
    { name: "SCB พลอยไพริน นามโคตร", amount: getAmount('account-balance-info2') },
    { name: "Truewallet BB ENJ", amount: getAmount('tw-bb-balance') },
    { name: "Truewallet BP", amount: getAmount('tw-bp-balance') }
  ];
}
function setMarqueeText() {
  const balances = getBalances();
  const html = balances.map((b, i) =>
    `<span style="color:${balanceColors[i]};">${b.name}: ${b.amount.toLocaleString()} บาท</span>`
  ).join(`<span style="color:#888;"> | </span>`);
  document.getElementById("marquee-text").innerHTML = html;
}
setMarqueeText();
const marquee = document.getElementById('balance-marquee');
const text = document.getElementById('marquee-text');
function resetMarquee() {
  text.style.left = marquee.offsetWidth + 'px';
}
resetMarquee();
function animateMarquee() {
  let left = parseInt(text.style.left, 10);
  left--;
  if (left < -text.offsetWidth) {
    left = marquee.offsetWidth;
  }
  text.style.left = left + 'px';
  requestAnimationFrame(animateMarquee);
}
animateMarquee();
setInterval(() => {
  setMarqueeText();
  resetMarquee();
}, 5000);
</script>
